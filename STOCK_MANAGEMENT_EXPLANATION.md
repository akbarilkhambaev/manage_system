# üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–∞–º–∏ –∫—Ä–∞—Å–æ–∫

## ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ —Å current_stock**

**–ß—Ç–æ –±—ã–ª–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
- –ü–æ–ø—ã—Ç–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–µ `current_stock` –Ω–∞–ø—Ä—è–º—É—é –≤ —Ñ–æ—Ä–º–µ –∫—Ä–∞—Å–∫–∏
- –ü–æ–ª–µ `current_stock` –≤ Django –º–æ–¥–µ–ª–∏ - —ç—Ç–æ `@property` (–≤—ã—á–∏—Å–ª—è–µ–º–æ–µ –ø–æ–ª–µ)
- –û—Å—Ç–∞—Ç–æ–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–≤–∏–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–∞

## ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**

### üîß **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤:**

```python
# –í Django –º–æ–¥–µ–ª–∏ Paint
@property
def current_stock(self):
    """–¢–µ–∫—É—â–∏–π –æ—Å—Ç–∞—Ç–æ–∫ –∫—Ä–∞—Å–∫–∏"""
    return self.stock_movements.aggregate(
        total=models.Sum('quantity')
    )['total'] or Decimal('0')
```

**–û—Å—Ç–∞—Ç–æ–∫ = –°—É–º–º–∞ –≤—Å–µ—Ö –¥–≤–∏–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–∞**
- ‚ûï –ü–æ–ø–æ–ª–Ω–µ–Ω–∏—è (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
- ‚ûñ –ü—Ä–æ–¥–∞–∂–∏ (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)

### üìù **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–µ:**

#### **–ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```tsx
// –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–µ –ø–æ–ª–µ
<input 
  value={current_stock} 
  onChange={...} 
/>
```

#### **–°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```tsx
// –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ –ø–æ–ª–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è)
{paint && (
  <div className="p-3 bg-gray-50 border border-gray-200 rounded-lg">
    <label>–¢–µ–∫—É—â–∏–π –æ—Å—Ç–∞—Ç–æ–∫</label>
    <div className="text-lg font-semibold">
      {paint.current_stock} {paint.unit}
      {isLowStock && <span>‚ö†Ô∏è –ù–∏–∑–∫–∏–π –æ—Å—Ç–∞—Ç–æ–∫</span>}
    </div>
    <p className="text-xs text-gray-500">
      –û—Å—Ç–∞—Ç–æ–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–π –∏ –ø—Ä–æ–¥–∞–∂
    </p>
  </div>
)}
```

## üéØ **–ö–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å –æ—Å—Ç–∞—Ç–∫–∞–º–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**

### 1Ô∏è‚É£ **–î–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Å—Ç–∞—Ç–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–¥–µ–ª **"–ü–æ–ø–æ–ª–Ω–µ–Ω–∏—è"** 
- –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–ø–∏—Å—å —Ç–∏–ø–∞ `stock_in` (–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ)
- –£–∫–∞–∂–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞

### 2Ô∏è‚É£ **–î–ª—è —Å–ø–∏—Å–∞–Ω–∏—è –æ—Å—Ç–∞—Ç–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–¥–µ–ª **"–ü—Ä–æ–¥–∞–∂–∏"**
- –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–¥–∞–∂—É —Å –Ω—É–∂–Ω—ã–º–∏ –∫—Ä–∞—Å–∫–∞–º–∏
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–ø–∏—à–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ

### 3Ô∏è‚É£ **–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤:**
- –í —Ç–∞–±–ª–∏—Ü–µ –∫—Ä–∞—Å–æ–∫ –≤–∏–¥–Ω—ã —Ç–µ–∫—É—â–∏–µ –æ—Å—Ç–∞—Ç–∫–∏
- –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è: üî¥ –Ω–∏–∑–∫–∏–π, üü° —Å—Ä–µ–¥–Ω–∏–π, üü¢ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π
- –í –∞–Ω–∞–ª–∏—Ç–∏–∫–µ - —Å–≤–æ–¥–∫–∞ –ø–æ –≤—Å–µ–º –æ—Å—Ç–∞—Ç–∫–∞–º

## üìä **–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã:**

```
–ö—Ä–∞—Å–∫–∞: "–≠–º–∞–ª—å –±–µ–ª–∞—è –ü–§-115"

–î–≤–∏–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞:
+ 100 –∫–≥ (–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞)
- 30 –∫–≥ (–ø—Ä–æ–¥–∞–∂–∞ –∫–ª–∏–µ–Ω—Ç—É –ê)  
- 20 –∫–≥ (–ø—Ä–æ–¥–∞–∂–∞ –∫–ª–∏–µ–Ω—Ç—É –ë)
+ 50 –∫–≥ (–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞)

–¢–µ–∫—É—â–∏–π –æ—Å—Ç–∞—Ç–æ–∫ = 100 - 30 - 20 + 50 = 100 –∫–≥
```

## ‚ú® **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:**

1. **–¢–æ—á–Ω—ã–π —É—á—ë—Ç** - –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ "–ø–æ—Ç–µ—Ä—è—Ç—å" —Ç–æ–≤–∞—Ä
2. **–ò—Å—Ç–æ—Ä–∏—è –¥–≤–∏–∂–µ–Ω–∏–π** - –≤–∏–¥–Ω–æ –æ—Ç–∫—É–¥–∞ –ø—Ä–∏—à–µ–ª –∏ –∫—É–¥–∞ —É—à–µ–ª —Ç–æ–≤–∞—Ä  
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç** - –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ø–æ–¥—Å—á—ë—Ç–∞—Ö
4. **–û—Ç—á—ë—Ç–Ω–æ—Å—Ç—å** - –ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π

## üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**

- ‚úÖ –£–±—Ä–∞–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–µ –ø–æ–ª–µ `current_stock` –∏–∑ —Ñ–æ—Ä–º—ã
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ –ø–æ–ª–µ —Å —Ç–µ–∫—É—â–∏–º –æ—Å—Ç–∞—Ç–∫–æ–º
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤ API –∑–∞–ø—Ä–æ—Å–∞—Ö
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---
*–¢–µ–ø–µ—Ä—å –æ—Å—Ç–∞—Ç–∫–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ —á–µ—Ä–µ–∑ –¥–≤–∏–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞!* üì¶‚ú®